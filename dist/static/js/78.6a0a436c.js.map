{"version":3,"file":"static/js/78.6a0a436c.js","mappings":"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","sources":["webpack://vue/./views/exam/index.vue?495c","webpack://vue/views/exam/index.vue","webpack://vue/./views/exam/index.vue?c23a","webpack://vue/./views/exam/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.ExamlogVisible = true}}},[_vm._v(\"新增考试\")])],1),_c('br'),_c('el-divider'),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.filter(function (data) { return !_vm.search || data.name.toLowerCase().includes(_vm.search.toLowerCase()); }),\"max-height\":\"400\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"名称\",\"prop\":\"examName\",\"header-align\":\"center\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"日期\",\"prop\":\"date\",\"header-align\":\"center\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"prop\":\"status\",\"header-align\":\"center\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.selectClearData(scope.row)}}},[_vm._v(\"考试详情\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.addClassVisible = true; _vm.getClassData(scope.row)}}},[_vm._v(\"添加班级\")])]}}])},[_c('template',{slot:\"header\"},[_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"输入关键字搜索\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],2)],1),_c('el-dialog',{attrs:{\"title\":\"新增考试\",\"visible\":_vm.ExamlogVisible,\"width\":\"18%\"},on:{\"update:visible\":function($event){_vm.ExamlogVisible=$event}}},[_c('el-form',{ref:\"form\",staticStyle:{\"text-align\":\"center\"},attrs:{\"model\":_vm.addExam,\"label-width\":\"40px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.addExam.examName),callback:function ($$v) {_vm.$set(_vm.addExam, \"examName\", $$v)},expression:\"addExam.examName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.addExam.description),callback:function ($$v) {_vm.$set(_vm.addExam, \"description\", $$v)},expression:\"addExam.description\"}})],1),_c('el-form',[_c('div',{staticClass:\"block\"},[_c('span',{staticClass:\"demonstration\"},[_vm._v(\"日期\")]),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.addExam.date),callback:function ($$v) {_vm.$set(_vm.addExam, \"date\", $$v)},expression:\"addExam.date\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-switch',{attrs:{\"active-text\":\"立即开启\",\"inactive-text\":\"稍后开启\"},model:{value:(_vm.addExam.status),callback:function ($$v) {_vm.$set(_vm.addExam, \"status\", $$v)},expression:\"addExam.status\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleaddExam}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.ExamlogVisible = false}}},[_vm._v(\"取消\")])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"})],1),[_c('el-divider'),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.clearData,\"max-height\":\"300\"}},[_c('el-table-column',{attrs:{\"label\":\"序号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"className\",\"label\":\"班级名称\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"count\",\"label\":\"已填写人数\"}}),_c('el-table-column',{attrs:{\"prop\":\"score\",\"label\":\"分数\"}}),_c('el-table-column',{attrs:{\"prop\":\"total\",\"label\":\"总人数\"}})],1)],_c('el-dialog',{attrs:{\"title\":\"新增班级\",\"visible\":_vm.addClassVisible,\"width\":\"18%\"},on:{\"update:visible\":function($event){_vm.addClassVisible=$event}}},[_c('el-cascader',{ref:\"cascader\",attrs:{\"placeholder\":\"试试搜索：班级\",\"options\":_vm.classData,\"props\":{ multiple: true },\"filterable\":\"\"},on:{\"change\":_vm.changeSelectArr}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addClassExam()}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.addClassVisible = false; _vm.cancelClassExam(_vm.val)}}},[_vm._v(\"取消\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <br>\r\n    <el-row>\r\n\r\n      <el-button type=\"primary\" @click=\"ExamlogVisible = true\" round>新增考试</el-button>\r\n      <!-- <el-button type=\"danger\" @click=\"deleteByIds\" round>批量删除</el-button> -->\r\n    </el-row>\r\n    <br>\r\n    <el-divider></el-divider>\r\n    <el-table :data=\"tableData.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\r\n      style=\"width: 100%\" max-height=\"400\">\r\n\r\n      <el-table-column label=\"序号\" type=\"index\">\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"名称\" prop=\"examName\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"日期\" prop=\"date\" header-align=\"center\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" prop=\"status\" header-align=\"center\" align=\"center\">\r\n\r\n      </el-table-column>\r\n      <el-table-column align=\"right\">\r\n        <template slot=\"header\">\r\n          <el-input v-model=\"search\" size=\"mini\" placeholder=\"输入关键字搜索\" />\r\n        </template>\r\n\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"selectClearData(scope.row)\">考试详情</el-button>\r\n          <el-button size=\"mini\" @click=\"addClassVisible = true; getClassData(scope.row)\">添加班级</el-button>\r\n          <!-- <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">Delete</el-button> -->\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n    <!--    新增窗口-->\r\n    <el-dialog title=\"新增考试\" :visible.sync=\"ExamlogVisible\" width=\"18%\">\r\n\r\n      <el-form ref=\"form\" :model=\"addExam\" label-width=\"40px\" style=\"text-align: center\">\r\n        <el-form-item label=\"名称\">\r\n          <el-input v-model=\"addExam.examName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"描述\">\r\n          <el-input v-model=\"addExam.description\" placeholder=\"请输入内容\"></el-input>\r\n        </el-form-item>\r\n        <el-form>\r\n          <div class=\"block\">\r\n            <span class=\"demonstration\">日期</span>\r\n            <el-date-picker v-model=\"addExam.date\" type=\"date\" placeholder=\"选择日期\">\r\n            </el-date-picker>\r\n          </div>\r\n        </el-form>\r\n        <el-form-item label=\"\">\r\n          <el-switch v-model=\"addExam.status\" active-text=\"立即开启\" inactive-text=\"稍后开启\">\r\n          </el-switch>\r\n        </el-form-item>\r\n        <el-button type=\"primary\" @click=\"handleaddExam\">提交</el-button>\r\n        <el-button @click=\"ExamlogVisible = false\">取消</el-button>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 考试详情 -->\r\n    <template>\r\n      <el-divider></el-divider>\r\n      <el-table :data=\"clearData\" style=\"width: 100%\" max-height=\"300\">\r\n        <el-table-column label=\"序号\" type=\"index\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"className\" label=\"班级名称\" width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"count\" label=\"已填写人数\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"score\" label=\"分数\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"total\" label=\"总人数\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </template>\r\n    <!-- 新增班级 -->\r\n    <el-dialog title=\"新增班级\" :visible.sync=\"addClassVisible\" width=\"18%\">\r\n      <el-cascader placeholder=\"试试搜索：班级\" ref=\"cascader\" @change=\"changeSelectArr\" :options=\"classData\"\r\n        :props=\"{ multiple: true }\" filterable></el-cascader>\r\n      <el-button type=\"primary\" @click=\"addClassExam()\">提交</el-button>\r\n      <el-button @click=\"addClassVisible = false; cancelClassExam(val)\">取消</el-button>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\naxios.defaults.withCredentials = true;\r\nimport axios from 'axios';\r\nconst ip =\"124.222.86.127\";\r\nconst port_back =\":54321\";\r\nimport { ColorPicker } from 'element-ui';\r\nexport default {\r\n  name: 'Exam',\r\n  data() {\r\n    return {\r\n      tableData: {\r\n        id: '',\r\n        examName: '',\r\n        date: '',\r\n        status: ''\r\n      },\r\n      ExamlogVisible: false,\r\n      addExam: {\r\n        examName: '',\r\n        description: '',\r\n        date: '',\r\n        status: '',\r\n      },\r\n      search: '',\r\n      clearData: [{\r\n        examName: '',\r\n        classId: '',\r\n        className: '',\r\n        count: '',\r\n        score: '',\r\n        total: ''\r\n      }],\r\n      addClass: {\r\n        classId: '',\r\n        classNmae: '',\r\n        school: '',\r\n      },\r\n      addClassVisible: false,\r\n      // options: [],\r\n      classData: [], // 班级总列表\r\n      selectArrs: [],\r\n    }\r\n  },\r\n\r\n\r\n  mounted() {\r\n    this.selectAll();\r\n    this.testlogin();\r\n  },\r\n  methods: {\r\n    sleep(n) {\r\n      var start = new Date().getTime();\r\n      while (true) {\r\n        if (new Date().getTime() - start > n) {\r\n          break;\r\n        }\r\n      }\r\n\r\n    },\r\n\r\n    testlogin() {\r\n\r\n      axios.get(\"http://\" + ip +port_back+ \"/admin\").then(res => {\r\n\r\n        if (res.data.code == 20001) {\r\n\r\n\r\n\r\n        } else if (res.data.code == 20000) {\r\n\r\n          this.$message.error(\"请先登录!!!\");\r\n\r\n          this.sleep(1000);\r\n\r\n\r\n\r\n          location.href = \"http://\"+ip+\":8888/#/login\"\r\n        }\r\n\r\n      })\r\n    },\r\n\r\n\r\n\r\n    // 初始化查询\r\n    selectAll() {\r\n      axios.get(\"http://\" + ip +port_back+ \"/exams\").then(res => {\r\n        this.tableData = res.data.data;\r\n      })\r\n    },\r\n    // 添加考试\r\n    handleaddExam() {\r\n      if(this.addExam.status=true){\r\n        this.addExam.status=1;\r\n      }else{\r\n        this.addExam.status=0;\r\n      }\r\n\r\n      axios.post(\"http://\" + ip+port_back + \"/exams\", this.addExam).then(res => {\r\n        this.ExamlogVisible = false;\r\n        if (res.data.code == 20011) {\r\n          this.$message.success('添加成功');\r\n          this.selectAll();\r\n        } else if (res.data.code == 20010) {\r\n          this.$message.error('添加失败');\r\n        }\r\n        this.addExam.examName = '',\r\n          this.addExam.description = '',\r\n          this.addExam.date = '',\r\n          this.addExam.status = ''\r\n      })\r\n    },\r\n    // 查询考试的详细数据\r\n    selectClearData(row) {\r\n\r\n      axios.get(\"http://\" + ip + port_back+\"/texam/\" + row.id).then(res => {\r\n        this.clearData = res.data.data;\r\n        for (let index = 0; index < this.clearData.length; index++) {\r\n                            const element = this.clearData[index];\r\n                            if(element.count<element.total){\r\n                                element.score = '未统计完成'\r\n                            }\r\n                            \r\n                        }\r\n      })\r\n    },\r\n    //查询班级信息\r\n    getClassData(row) {\r\n      this.classData = []\r\n      let cou = 0\r\n      axios.get(\"http://\" + ip+port_back + \"/class\").then(res => {\r\n        for (let x = 0; x < res.data.data.length; x++) {\r\n          for (let y = 0; y < this.classData.length; y++) {\r\n            if (res.data.data[x].school === this.classData[y].label) {\r\n              this.classData[y].children.push({\r\n                value: res.data.data[x].classId,\r\n                disabled: false,\r\n                label: res.data.data[x].className\r\n              });\r\n              cou += 1\r\n            }\r\n          }\r\n          if (cou == 0) {\r\n            this.classData.push({\r\n              value: x,\r\n              label: res.data.data[x].school,\r\n              children: [{\r\n                value: res.data.data[x].classId,\r\n                label: res.data.data[x].className\r\n              }]\r\n            })\r\n          }\r\n          cou = 0\r\n        }\r\n      })\r\n      axios.get(\"http://\" + ip +port_back+ \"/texam/\" + row.id).then(res => {\r\n        for (let index = 0; index < res.data.data.length; index++) {\r\n          for (let x = 0; x < this.classData.length; x++) {\r\n            let k = 0;\r\n            for (let y = 0; y < this.classData[x].children.length; y++) {\r\n              if (res.data.data[index].classId == this.classData[x].children[y].value) {\r\n                this.classData[x].children[y].disabled = true\r\n                k += 1\r\n                break\r\n              }\r\n            };\r\n            if (k == 1)\r\n              break\r\n          };\r\n        };\r\n      })\r\n      this.selectArrs = []\r\n      this.selectArrs.push(row.id)\r\n\r\n    },\r\n    //获取选中的节点数据对象\r\n    changeSelectArr(val) {\r\n      let node_arr = this.$refs['cascader'].getCheckedNodes();\r\n      let select_a = [];\r\n      select_a.push(this.selectArrs[0])\r\n      for (let key in node_arr) {\r\n        if (!node_arr[key]['data'].children) {\r\n          select_a.push(node_arr[key]['data'].value)\r\n        }\r\n      }\r\n      this.selectArrs = select_a\r\n    },\r\n    //添加班级\r\n    addClassExam() {\r\n      axios.post(\"http://\" + ip +port_back+ \"/texam/\", this.selectArrs).then(res => {\r\n        if (res.data.code == 20011) {\r\n          this.$message.success('添加成功');\r\n          this.selectAll();\r\n        } else if (res.data.code == 20010) {\r\n          this.$message.error('添加失败');\r\n        }\r\n\r\n      })\r\n      this.addClassVisible = false;\r\n    },\r\n    cancelClassExam() {\r\n      console.log(this.$refs['cascader'])\r\n      this.$refs['cascader'].panel.clearCheckedNodes();\r\n    },\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n.el-table .warning-row {\r\n  background: oldlace;\r\n}\r\n\r\n.el-table .success-row {\r\n  background: #f0f9eb;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1fb88ef8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","ExamlogVisible","_v","staticStyle","tableData","filter","data","search","name","toLowerCase","includes","scopedSlots","_u","key","fn","scope","selectClearData","row","addClassVisible","getClassData","slot","model","value","callback","$$v","expression","ref","addExam","$set","staticClass","handleaddExam","clearData","classData","multiple","changeSelectArr","addClassExam","cancelClassExam","val","staticRenderFns","axios","ip","port_back","id","examName","date","status","description","classId","className","count","score","total","addClass","classNmae","school","selectArrs","mounted","methods","sleep","testlogin","location","selectAll","element","disabled","label","cou","children","k","select_a","console","component"],"sourceRoot":""}