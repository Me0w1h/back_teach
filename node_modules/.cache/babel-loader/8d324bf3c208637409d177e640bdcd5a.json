{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nvar ip = \"172.27.234.112\";\nexport default {\n  name: 'user',\n  data: function data() {\n    return {\n      //修改数据\n      updateUser: {\n        id: '',\n        name: '',\n        username: '',\n        classId: \"\",\n        className: \"\",\n        school: \"\",\n        exam: \"\"\n      },\n      //总条数\n      totalCount: 100,\n      selectIds: [],\n      currentPage: 1,\n      pageSize: 10,\n      //新增对话框默认值（不展示 false）\n      dialogVisible: false,\n      dialogVisible2: false,\n      //模型数据\n      // private Long id;\n      // private String username;\n      // private String password;\n      // private String name;\n      // @TableField(\"class_name\")\n      // private String className;\n      // @TableField(\"class_id\")\n      // private String classId;\n      // private String school;\n      // private String exam;\n      alluser: {\n        id: '',\n        username: '',\n        password: '',\n        name: \"\",\n        className: \"\",\n        classId: \"\",\n        school: \"\",\n        exam: \"\"\n      },\n      addUser: {\n        id: \"\",\n        username: \"\",\n        name: \"\",\n        classId: \"\",\n        className: \"\",\n        school: \"\",\n        exam: \"\"\n      },\n      searchUser: {\n        name: '',\n        className: '',\n        school: '',\n        exam: ''\n      },\n      classNames: [{\n        value: '2019110101',\n        label: '网安本1901'\n      }, {\n        value: '2019110102',\n        label: '物联网1901'\n      }, {\n        value: '2019110103',\n        label: '计工本1901'\n      }, {\n        value: '2019110104',\n        label: '计工本1902'\n      }, {\n        value: '2019110105',\n        label: '计本1901'\n      }],\n      schools: [{\n        value: '山东师范大学',\n        label: '山东师范大学'\n      }, {\n        value: '山东大学',\n        label: '山东大学'\n      }],\n      exams: [{\n        value: '期末1',\n        label: '期末1'\n      }, {\n        value: '期末2',\n        label: '期末2'\n      }],\n      // /复选框数据\n      multipleSelection: [],\n      deleteIds: []\n    };\n  },\n  mounted: function mounted() {\n    this.selectAll();\n  },\n  methods: {\n    selectAll: function selectAll() {\n      var _this = this;\n\n      axios.post(\"http://\" + ip + \"/user/?currentPage=\" + this.currentPage + \"&size=\" + this.pageSize, this.searchUser).then(function (res) {\n        _this.alluser = res.data.data.rows;\n        _this.totalCount = Number(res.data.data.totalCount);\n      });\n    },\n    onSubmit: function onSubmit() {\n      this.selectAll();\n    },\n    //分页\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.selectAll();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`);\n      this.currentPage = val;\n      this.selectAll();\n    },\n    addaUser: function addaUser() {\n      var _this2 = this;\n\n      for (var index = 0; index < this.classNames.length; index++) {\n        var element = this.classNames[index].value;\n\n        if (element === this.addUser.classId) {\n          this.addUser.className = this.classNames[index].label;\n        }\n      }\n\n      axios.post(\"http://\" + ip + \"/user/1\", this.addUser).then(function (res) {\n        _this2.dialogVisible = false;\n        _this2.addUser.id = '', _this2.addUser.name = '', _this2.addUser.username = '', _this2.addUser.className = '', _this2.addUser.classId = '', _this2.addUser.school = '', _this2.addUser.exam = '';\n\n        if (res.data.code === 20011) {\n          _this2.$message.success('添加成功');\n        } else if (res.data.code === 20010) {\n          _this2.$message.error('添加失败');\n        } else if (res.data.code === 20031) {\n          _this2.$message.success('修改成功');\n        } else if (res.data.code === 20030) {\n          _this2.$message.error('修改失败');\n        }\n      });\n    },\n    updateById: function updateById(row) {\n      this.addUser.id = row.id;\n      this.addUser.name = row.name;\n      this.addUser.classId = row.classId;\n      this.addUser.username = row.username;\n      this.addUser.className = row.className;\n      this.addUser.school = row.school;\n      this.addUser.exam = row.exam;\n      this.dialogVisible2 = true;\n    },\n    deleteById: function deleteById(row) {\n      this.deleteIds[0] = row.id;\n      this.deleteuser();\n    },\n    deleteuser: function deleteuser() {\n      var _this3 = this;\n\n      axios.delete(\"http://\" + ip + \"/user/\", {\n        data: this.deleteIds\n      }).then(function (res) {\n        if (res.data.code === 20021) {\n          _this3.$message.success('删除成功');\n        } else {\n          _this3.$message.error('删除失败');\n        }\n      });\n      this.deleteIds = [];\n      this.selectAll();\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      // window.alert(val.username)\n      this.multipleSelection = val; // console.log(this.multipleSelection.id)\n    },\n    deleteByIds: function deleteByIds() {\n      if (this.multipleSelection.length > 0) {\n        for (var index = 0; index < this.multipleSelection.length; index++) {\n          window.alert(this.multipleSelection[index].id);\n          this.deleteIds[index] = this.multipleSelection[index].id;\n        }\n\n        this.deleteuser();\n      } else {\n        this.$message.error('请选择数据');\n      }\n\n      this.deleteIds = [];\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","data","updateUser","id","username","classId","className","school","exam","totalCount","selectIds","currentPage","pageSize","dialogVisible","dialogVisible2","alluser","password","addUser","searchUser","classNames","value","label","schools","exams","multipleSelection","deleteIds","mounted","methods","selectAll","axios","onSubmit","handleSizeChange","val","handleCurrentChange","addaUser","updateById","row","deleteById","deleteuser","handleSelectionChange","deleteByIds","window"],"sourceRoot":"views/User","sources":["index.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <br>\r\n     <!--  搜索 表单-->\r\n\r\n    <el-form :inline=\"true\" :model=\"searchUser\" class=\"demo-form-inline\">\r\n\r\n        <el-form-item label=\"姓名\">\r\n            <el-input v-model=\"searchUser.name\" placeholder=\"姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"班级\">\r\n            <el-input v-model=\"searchUser.className\" placeholder=\"姓名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"学校\">\r\n            <el-input v-model=\"searchUser.school\" placeholder=\"学校\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"考试\">\r\n            <el-input v-model=\"searchUser.exam\" placeholder=\"考试\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n            <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n    <!--  x新增 删除-->\r\n    <el-row>\r\n\r\n        <el-button type=\"primary\" @click=\"dialogVisible = true\" round>新增数据</el-button>\r\n        <el-button type=\"danger\" @click=\"deleteByIds\" round>批量删除</el-button>\r\n    </el-row>\r\n\r\n    <!--    新增窗口-->\r\n    <el-dialog\r\n            title=\"新增用户\"\r\n            :visible.sync=\"dialogVisible\"\r\n            width=\"30%\">\r\n\r\n        <el-form ref=\"form\" :model=\"addUser\" label-width=\"80px\">\r\n            <el-form-item label=\"姓名\">\r\n                <el-input v-model=\"addUser.name\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item label=\"学号\">\r\n                <el-input v-model=\"addUser.username\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"班级\">\r\n                <el-select v-model=\"addUser.classId\" placeholder=\"班级\">\r\n                <el-option\r\n                v-for=\"item in classNames\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"学校\">\r\n                <el-select v-model=\"addUser.school\" placeholder=\"班级\">\r\n                <el-option\r\n                v-for=\"item in schools\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"考试\">\r\n                <el-select v-model=\"addUser.exam\" placeholder=\"考试\">\r\n                <el-option\r\n                v-for=\"item in exams\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            \r\n\r\n\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"addaUser\">提交</el-button>\r\n                <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n  </span>\r\n    </el-dialog>\r\n\r\n\r\n    <!--    数据表格-->\r\n    <template>\r\n\r\n        <el-table\r\n                :data=\"alluser\"\r\n                style=\"width: 100%\"\r\n                :row-class-name=\"tableRowClassName\"\r\n                @selection-change=\"handleSelectionChange\">\r\n\r\n            <el-table-column\r\n                    type=\"selection\"\r\n                    width=\"55\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    type=\"index\"\r\n                    width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"name\"\r\n                    label=\"姓名\"\r\n                    width=\"180\"\r\n                    align=\"center\">\r\n\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"className\"\r\n                    label=\"班级\"\r\n                    width=\"180\"\r\n                    align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"exam\"\r\n                    label=\"考试\"\r\n                    align=\"center\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    prop=\"school\"\r\n                    label=\"所属学校\"\r\n                    align=\"center\">\r\n            </el-table-column>\r\n            \r\n            <el-table-column\r\n                    prop=\"id\"\r\n                    label=\"操作\"\r\n                    align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button @click=\"updateById(scope.row)\" type=\"primary\" size=\"small\">修改</el-button>\r\n                    <el-button @click=\"deleteById(scope.row)\" type=\"danger\" size=\"small\">删除</el-button>\r\n                </template>\r\n                <!--                    <el-button type=\"primary\"  @click=\"update(brandName)\">修改</el-button>-->\r\n                <!--                    <el-button type=\"danger\">删除</el-button>-->\r\n\r\n\r\n            </el-table-column>\r\n\r\n        </el-table>\r\n    </template>\r\n    <!--    修改窗口-->\r\n    <el-dialog\r\n            title=\"修改用户信息\"\r\n            :visible.sync=\"dialogVisible2\"\r\n            width=\"30%\">\r\n\r\n        <el-form ref=\"form\" :model=\"addUser\" label-width=\"80px\">\r\n            <el-form-item label=\"姓名\">\r\n                <el-input v-model=\"addUser.name\"></el-input>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item label=\"学号\">\r\n                <el-input v-model=\"addUser.username\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"班级\">\r\n                <el-select v-model=\"addUser.classId\" placeholder=\"班级\">\r\n                <el-option\r\n                v-for=\"item in classNames\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"学校\">\r\n                <el-select v-model=\"addUser.school\" placeholder=\"班级\">\r\n                <el-option\r\n                v-for=\"item in schools\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"考试\">\r\n                <el-select v-model=\"addUser.exam\" placeholder=updateUser.exam>\r\n                <el-option\r\n                v-for=\"item in exams\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n                </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"addaUser\">提交</el-button>\r\n                <el-button @click=\"dialogVisible2 = false\">取消</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n\r\n  </span>\r\n    </el-dialog>\r\n    <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :total=\"totalCount\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[ 5,10]\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            >\r\n    </el-pagination>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst ip =\"172.27.234.112\";\r\nexport default{\r\n    name:'user',\r\n    data(){\r\n        return {\r\n             //修改数据\r\n                updateUser: {\r\n                    id: '',\r\n                    name: '',\r\n                    username: '',\r\n                    classId: \"\",\r\n                    className: \"\",\r\n                    school: \"\",\r\n                    exam:\"\"\r\n                },\r\n                //总条数\r\n                totalCount: 100,\r\n\r\n                selectIds: [],\r\n                currentPage: 1,\r\n                pageSize: 10,\r\n\r\n\r\n                //新增对话框默认值（不展示 false）\r\n                dialogVisible: false,\r\n                dialogVisible2: false,\r\n                //模型数据\r\n                // private Long id;\r\n    // private String username;\r\n    // private String password;\r\n    // private String name;\r\n    // @TableField(\"class_name\")\r\n    // private String className;\r\n    // @TableField(\"class_id\")\r\n    // private String classId;\r\n    // private String school;\r\n    // private String exam;\r\n                alluser: {\r\n                    id: '',\r\n                    username: '',\r\n                    password: '',\r\n                    name: \"\",\r\n                    className: \"\",\r\n                    classId: \"\",\r\n                    school:\"\",\r\n                    exam:\"\"\r\n                },\r\n                addUser: {\r\n                    id:\"\",\r\n                    username:\"\",\r\n                    name:\"\",\r\n                    classId:\"\",\r\n                    className:\"\",\r\n                    school:\"\",\r\n                    exam:\"\"\r\n                },\r\n\r\n\r\n                searchUser: {\r\n                    \r\n                    name: '',\r\n                    className: '',\r\n                    school: '',\r\n                    exam:''\r\n\r\n                },\r\n                classNames: [{\r\n                    value: '2019110101',\r\n                    label: '网安本1901'\r\n                    }, {\r\n                    value: '2019110102',\r\n                    label: '物联网1901'\r\n                    }, {\r\n                    value: '2019110103',\r\n                    label: '计工本1901'\r\n                    }, {\r\n                    value: '2019110104',\r\n                    label: '计工本1902'\r\n                    }, {\r\n                    value: '2019110105',\r\n                    label: '计本1901'\r\n                }],\r\n                 schools: [{\r\n                    value: '山东师范大学',\r\n                    label: '山东师范大学'\r\n                    }, {\r\n                    value: '山东大学',\r\n                    label: '山东大学'\r\n                    \r\n                }],\r\n                exams:[{\r\n                    value: '期末1',\r\n                    label: '期末1'\r\n                },{\r\n                    value: '期末2',\r\n                    label: '期末2'\r\n                }],\r\n                \r\n\r\n\r\n                // /复选框数据\r\n                multipleSelection: [],\r\n                deleteIds:[]\r\n        }\r\n    },\r\n    mounted() {\r\n            this.selectAll();\r\n        },\r\n    methods:{\r\n        selectAll() {\r\n\r\n                axios.post(\"http://\"+ip+\"/user/?currentPage=\" + this.currentPage +\"&size=\"+this.pageSize,this.searchUser).then(res => {\r\n                    \r\n                    this.alluser = res.data.data.rows;\r\n                    this.totalCount = Number(res.data.data.totalCount);\r\n                    \r\n                })\r\n            },\r\n            onSubmit(){\r\n                this.selectAll();\r\n\r\n            },\r\n            //分页\r\n            handleSizeChange(val) {\r\n                \r\n                this.pageSize = val;\r\n                this.selectAll();\r\n            },\r\n            handleCurrentChange(val) {\r\n                // console.log(`当前页: ${val}`);\r\n                this.currentPage = val;\r\n                this.selectAll();\r\n            },\r\n            addaUser(){\r\n        \r\n                for (let index = 0; index < this.classNames.length; index++) {\r\n                    \r\n                    const element = this.classNames[index].value;\r\n                 \r\n                    if(element===this.addUser.classId){\r\n                        \r\n                        this.addUser.className = this.classNames[index].label;\r\n                        \r\n                    }\r\n                    \r\n                }\r\n\r\n                axios.post(\"http://\"+ip+\"/user/1\",this.addUser).then(res => {\r\n                    this.dialogVisible = false;\r\n                    this.addUser.id='',\r\n                    this.addUser.name='',\r\n                     this.addUser.username='',\r\n                     this.addUser.className='',\r\n                     this.addUser.classId='',\r\n                     this.addUser.school='',\r\n                     this.addUser.exam=''\r\n                    \r\n\r\n                    if(res.data.code===20011){\r\n                        this.$message.success('添加成功');\r\n\r\n                    }else if(res.data.code===20010){\r\n                        this.$message.error('添加失败');\r\n                    }else if(res.data.code===20031){\r\n                        this.$message.success('修改成功');\r\n                    }\r\n                    else if(res.data.code===20030){\r\n                        this.$message.error('修改失败');\r\n                    }\r\n                     \r\n                     \r\n                })\r\n                \r\n\r\n            }\r\n            ,\r\n             updateById(row) {\r\n\r\n\r\n                this.addUser.id = row.id;\r\n                this.addUser.name = row.name;\r\n                this.addUser.classId = row.classId;\r\n                this.addUser.username = row.username;\r\n                this.addUser.className = row.className;\r\n                this.addUser.school = row.school;\r\n                this.addUser.exam = row.exam;\r\n\r\n                this.dialogVisible2 = true;\r\n            },\r\n            deleteById(row){\r\n                this.deleteIds[0]=row.id;\r\n                this.deleteuser();\r\n            },\r\n            deleteuser(){\r\n\r\n                axios.delete(\"http://\"+ip+\"/user/\",{data:this.deleteIds}).then(res=>{\r\n                    if (res.data.code===20021) {\r\n                        this.$message.success('删除成功');\r\n                    }else{\r\n                        this.$message.error('删除失败');\r\n                    }\r\n                    \r\n                })\r\n                this.deleteIds=[];\r\n                    this.selectAll();\r\n            },\r\n            handleSelectionChange(val) {\r\n               // window.alert(val.username)\r\n                this.multipleSelection = val;\r\n               // console.log(this.multipleSelection.id)\r\n            },\r\n            deleteByIds(){\r\n                if(this.multipleSelection.length>0){\r\n                    \r\n                    for (let index = 0; index < this.multipleSelection.length; index++) {\r\n                        window.alert(this.multipleSelection[index].id)\r\n                        this.deleteIds[index] = this.multipleSelection[index].id;\r\n                        \r\n                       \r\n                        \r\n                    }\r\n                     this.deleteuser();\r\n                }else{\r\n                    this.$message.error('请选择数据')\r\n                }\r\n               this.deleteIds=[];\r\n            }\r\n    }   \r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}